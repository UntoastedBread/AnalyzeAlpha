@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Source+Serif+4:wght@300;400;600;700&family=IBM+Plex+Mono:wght@400;500;600;700&family=Libre+Franklin:wght@400;500;600;700&display=swap');

:root {
  --display: 'Cormorant Garamond', 'Georgia', serif;
  --body: 'Libre Franklin', 'Helvetica Neue', sans-serif;
  --serif: 'Source Serif 4', 'Georgia', serif;
  --mono: 'IBM Plex Mono', 'Menlo', monospace;
}

* { box-sizing: border-box; margin: 0; padding: 0; }
:root { --sp-1: 4px; --sp-2: 8px; --sp-3: 12px; --sp-4: 16px; --sp-5: 24px; }
:focus-visible { outline: 2px solid var(--theme-focus, #8B2500); outline-offset: 2px; }
button:focus:not(:focus-visible) { outline: none; }
.row-hover:hover { background: var(--hover-bg, #EDE8DF) !important; }
body { background: var(--app-bg, #FAF7F2); font-family: 'Libre Franklin', sans-serif; }
::-webkit-scrollbar { width: 5px; height: 5px; }
::-webkit-scrollbar-track { background: var(--scroll-track, #F5F1EA); }
::-webkit-scrollbar-thumb { background: var(--scroll-thumb, #D4CBBB); }
* { scrollbar-width: thin; scrollbar-color: var(--scroll-thumb, #D4CBBB) var(--scroll-track, #F5F1EA); }
input::placeholder { color: var(--placeholder-color, #A69E94); }
select option { background: var(--app-bg, #FAF7F2); color: var(--ink, #1A1612); }

@keyframes livePulse {
  0%, 100% { opacity: 1; box-shadow: 0 0 6px rgba(27,107,58,0.33); }
  50% { opacity: 0.3; box-shadow: 0 0 2px rgba(27,107,58,0.13); }
}
@keyframes slideUp {
  from { transform: translateY(70%); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
@keyframes slideDown {
  from { transform: translateY(-70%); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
@keyframes barGrow {
  0%, 100% { transform: scaleY(1); }
  50% { transform: scaleY(0.3); }
}
@keyframes loadSlide {
  0% { transform: translateX(-100%); }
  50% { transform: translateX(0%); }
  100% { transform: translateX(100%); }
}
@keyframes proSweep {
  0% { transform: translateX(-120%); opacity: 0.2; }
  40% { opacity: 1; }
  100% { transform: translateX(220%); opacity: 0.2; }
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes alphaPulse {
  0%, 100% { opacity: 0.9; }
  50% { opacity: 0.35; }
}
@keyframes alphaFloat {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-2px); }
}
@keyframes candleFloat {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}
@keyframes candleBodyPulse {
  0%, 100% { transform: scaleY(0.72); }
  50% { transform: scaleY(1.14); }
}

/* Ticker strip marquee */
@keyframes tickerScroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
.ticker-strip-scroll {
  -ms-overflow-style: none;
  scrollbar-width: none;
  overflow: hidden;
}
.ticker-strip-scroll::-webkit-scrollbar {
  display: none;
}
.ticker-strip-scroll:hover .ticker-strip-inner {
  animation-play-state: paused;
}
.ticker-strip-inner {
  animation: tickerScroll 30s linear infinite;
}

/* Hide scrollbars on overflow-x scroll containers */
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Mobile dropdown: clamp width to viewport */
.mobile-dropdown {
  max-width: calc(100vw - 28px);
}

/* Prevent horizontal scroll on mobile */
@media (max-width: 767px) {
  body {
    overflow-x: hidden;
  }
}

@keyframes overlayFadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes popupSlideIn {
  from { opacity: 0; transform: translateY(24px) scale(0.97); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}
.popup-overlay {
  animation: overlayFadeIn 0.2s ease;
}
.popup-card {
  animation: popupSlideIn 0.25s ease;
}

/* Nav tab hover */
.nav-tab { transition: color 0.15s, border-color 0.15s; }
.nav-tab:hover { color: var(--ink, #1A1612) !important; }
